{
    "AWSTemplateFormatVersion": "2010-09-09",
    "Description": "Corrected template to deploy VPC with EC2 and RDS.",
    "Parameters": {
        "amiId": {
            "Type": "String",
            "Default": "ami-04e5276ebb8451442",
            "Description": "Choose an Ubuntu AMI"
        },
        "keyPair": {
            "Type": "AWS::EC2::KeyPair::KeyName",
            "Description": "Choose your key pair for EC2 instance"
        },
        "dbMasterUserName": {
            "Type": "String",
            "Default": "admin",
            "Description": "Username for RDS database"
        },
        "dbMasterPassword": {
            "Type": "String",
            "Default": "Admin9876",
            "Description": "Password for RDS database"
        }
    },
    "Resources": {
        "vpc": {
            "Type": "AWS::EC2::VPC",
            "Properties": {
                "CidrBlock": "192.168.0.0/24",
                "EnableDnsSupport": true,
                "EnableDnsHostnames": true,
                "Tags": [{"Key": "Name", "Value": "vpc"}, {"Key": "Env", "Value": "Intellipaat"}]
            }
        },
        "publicSubnet": {
            "Type": "AWS::EC2::Subnet",
            "Properties": {
                "CidrBlock": "192.168.0.0/26",
                "MapPublicIpOnLaunch": true,
                "AvailabilityZone": "us-east-1a",
                "VpcId": {"Ref": "vpc"},
                "Tags": [{"Key": "Name", "Value": "pubSub"}, {"Key": "Env", "Value": "Intellipaat"}]
            }
        },
        "privateSubnet1": {
            "Type": "AWS::EC2::Subnet",
            "Properties": {
                "CidrBlock": "192.168.0.64/26",
                "AvailabilityZone": "us-east-1a",
                "VpcId": {"Ref": "vpc"},
                "Tags": [{"Key": "Name", "Value": "priSub1"}, {"Key": "Env", "Value": "Intellipaat"}]
            }
        },
        "privateSubnet2": {
            "Type": "AWS::EC2::Subnet",
            "Properties": {
                "CidrBlock": "192.168.0.128/26",
                "AvailabilityZone": "us-east-1a",
                "VpcId": {"Ref": "vpc"},
                "Tags": [{"Key": "Name", "Value": "priSub2"}, {"Key": "Env", "Value": "Intellipaat"}]
            }
        },
        "instanceSecurityGroup": {
            "Type": "AWS::EC2::SecurityGroup",
            "Properties": {
                "VpcId": {"Ref": "vpc"},
                "GroupName": "instanceSecurityGroup",
                "GroupDescription": "Allow SSH access from anywhere",
                "SecurityGroupIngress": [
                    {
                        "CidrIp": "0.0.0.0/0",
                        "FromPort": 22,
                        "ToPort": 22,
